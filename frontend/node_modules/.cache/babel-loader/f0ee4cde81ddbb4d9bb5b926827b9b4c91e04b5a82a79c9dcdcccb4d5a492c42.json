{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useRef } from 'react';\nimport { io } from 'socket.io-client';\nimport { API_URL } from '../config';\nexport function useSocket() {\n  _s();\n  const socket = useRef();\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (!token) return;\n    const newSocket = io(API_URL, {\n      auth: {\n        token\n      },\n      reconnectionAttempts: 3,\n      timeout: 5000\n    });\n    newSocket.on('connect_error', err => {\n      console.error('Socket bağlantı hatası:', err.message);\n    });\n    socket.current = newSocket;\n    return () => {\n      newSocket.disconnect();\n    };\n  }, []);\n  return socket;\n}\n_s(useSocket, \"tT+TUeqDasSnJe6iF3dKYibtzxk=\");","map":{"version":3,"names":["useEffect","useRef","io","API_URL","useSocket","_s","socket","token","localStorage","getItem","newSocket","auth","reconnectionAttempts","timeout","on","err","console","error","message","current","disconnect"],"sources":["C:/Users/suleymanyasar/Desktop/çalışmalar/cursor2/frontend/src/hooks/useSocket.ts"],"sourcesContent":["import { useEffect, useRef } from 'react';\r\nimport { io, Socket } from 'socket.io-client';\r\nimport { API_URL } from '../config';\r\n\r\nexport function useSocket() {\r\n  const socket = useRef<Socket>();\r\n  \r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) return;\r\n\r\n    const newSocket = io(API_URL, {\r\n      auth: { token },\r\n      reconnectionAttempts: 3,\r\n      timeout: 5000\r\n    });\r\n\r\n    newSocket.on('connect_error', (err) => {\r\n      console.error('Socket bağlantı hatası:', err.message);\r\n    });\r\n\r\n    socket.current = newSocket;\r\n    return () => { newSocket.disconnect(); };\r\n  }, []);\r\n\r\n  return socket;\r\n} "],"mappings":";AAAA,SAASA,SAAS,EAAEC,MAAM,QAAQ,OAAO;AACzC,SAASC,EAAE,QAAgB,kBAAkB;AAC7C,SAASC,OAAO,QAAQ,WAAW;AAEnC,OAAO,SAASC,SAASA,CAAA,EAAG;EAAAC,EAAA;EAC1B,MAAMC,MAAM,GAAGL,MAAM,CAAS,CAAC;EAE/BD,SAAS,CAAC,MAAM;IACd,MAAMO,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAI,CAACF,KAAK,EAAE;IAEZ,MAAMG,SAAS,GAAGR,EAAE,CAACC,OAAO,EAAE;MAC5BQ,IAAI,EAAE;QAAEJ;MAAM,CAAC;MACfK,oBAAoB,EAAE,CAAC;MACvBC,OAAO,EAAE;IACX,CAAC,CAAC;IAEFH,SAAS,CAACI,EAAE,CAAC,eAAe,EAAGC,GAAG,IAAK;MACrCC,OAAO,CAACC,KAAK,CAAC,yBAAyB,EAAEF,GAAG,CAACG,OAAO,CAAC;IACvD,CAAC,CAAC;IAEFZ,MAAM,CAACa,OAAO,GAAGT,SAAS;IAC1B,OAAO,MAAM;MAAEA,SAAS,CAACU,UAAU,CAAC,CAAC;IAAE,CAAC;EAC1C,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOd,MAAM;AACf;AAACD,EAAA,CAtBeD,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}