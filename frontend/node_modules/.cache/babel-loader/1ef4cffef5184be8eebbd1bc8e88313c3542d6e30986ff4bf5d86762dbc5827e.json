{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\suleymanyasar\\\\Desktop\\\\\\xE7al\\u0131\\u015Fmalar\\\\cursor2\\\\frontend\\\\src\\\\components\\\\Header.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { AppBar, Toolbar, Typography, Button, Box, Avatar, Menu, MenuItem } from '@mui/material';\nimport { Add as AddIcon } from '@mui/icons-material';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Header = ({\n  isAuthenticated\n}) => {\n  _s();\n  var _user$first_name;\n  const navigate = useNavigate();\n  const [user, setUser] = useState(null);\n  const [anchorEl, setAnchorEl] = useState(null);\n  useEffect(() => {\n    const checkUser = () => {\n      const userStr = localStorage.getItem('user');\n      const token = localStorage.getItem('token');\n      if (userStr && token) {\n        try {\n          const userData = JSON.parse(userStr);\n          setUser(userData);\n        } catch (error) {\n          // JSON parse hatası durumunda user'ı null yap\n          setUser(null);\n          // Hatalı veriyi temizle\n          localStorage.removeItem('user');\n          localStorage.removeItem('token');\n        }\n      } else {\n        setUser(null);\n      }\n    };\n    checkUser();\n    window.addEventListener('storage', checkUser);\n    window.addEventListener('userStateChanged', checkUser);\n    return () => {\n      window.removeEventListener('storage', checkUser);\n      window.removeEventListener('userStateChanged', checkUser);\n    };\n  }, []);\n  const handleLogout = () => {\n    localStorage.removeItem('user');\n    localStorage.removeItem('token');\n    setUser(null);\n    handleClose();\n    window.dispatchEvent(new Event('userStateChanged'));\n    navigate('/login');\n  };\n  const handleMenu = event => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  return /*#__PURE__*/_jsxDEV(AppBar, {\n    position: \"static\",\n    children: /*#__PURE__*/_jsxDEV(Toolbar, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        component: Link,\n        to: \"/\",\n        sx: {\n          flexGrow: 1,\n          textDecoration: 'none',\n          color: 'white'\n        },\n        children: \"Freelancer Platform\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: 2\n        },\n        children: isAuthenticated ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            component: Link,\n            to: \"/create-project\",\n            startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 44\n            }, this),\n            color: \"inherit\",\n            children: \"Proje Olu\\u015Ftur\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(Avatar, {\n              onClick: handleMenu,\n              sx: {\n                cursor: 'pointer'\n              },\n              children: user === null || user === void 0 ? void 0 : (_user$first_name = user.first_name) === null || _user$first_name === void 0 ? void 0 : _user$first_name[0]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Menu, {\n              anchorEl: anchorEl,\n              open: Boolean(anchorEl),\n              onClose: handleClose,\n              children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                component: Link,\n                to: \"/profile\",\n                onClick: handleClose,\n                children: \"Profil\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                component: Link,\n                to: \"/my-projects\",\n                onClick: handleClose,\n                children: \"Projelerim\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                onClick: handleLogout,\n                children: \"\\xC7\\u0131k\\u0131\\u015F Yap\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            color: \"inherit\",\n            component: Link,\n            to: \"/login\",\n            children: \"Giri\\u015F Yap\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            color: \"inherit\",\n            component: Link,\n            to: \"/register\",\n            children: \"Kay\\u0131t Ol\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n};\n_s(Header, \"0axWepjbU7Y0om8yjxt1rv/CaBk=\", false, function () {\n  return [useNavigate];\n});\n_c = Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["React","useState","useEffect","AppBar","Toolbar","Typography","Button","Box","Avatar","Menu","MenuItem","Add","AddIcon","Link","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","Header","isAuthenticated","_s","_user$first_name","navigate","user","setUser","anchorEl","setAnchorEl","checkUser","userStr","localStorage","getItem","token","userData","JSON","parse","error","removeItem","window","addEventListener","removeEventListener","handleLogout","handleClose","dispatchEvent","Event","handleMenu","event","currentTarget","position","children","variant","component","to","sx","flexGrow","textDecoration","color","fileName","_jsxFileName","lineNumber","columnNumber","display","alignItems","gap","startIcon","onClick","cursor","first_name","open","Boolean","onClose","_c","$RefreshReg$"],"sources":["C:/Users/suleymanyasar/Desktop/çalışmalar/cursor2/frontend/src/components/Header.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { \r\n    AppBar, \r\n    Toolbar, \r\n    Typography, \r\n    \r\n    Button,\r\n    Box,\r\n    Avatar,\r\n    Menu,\r\n    MenuItem\r\n} from '@mui/material';\r\nimport { Add as AddIcon } from '@mui/icons-material';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\n\r\ninterface HeaderProps {\r\n    isAuthenticated: boolean;\r\n}\r\n\r\nexport const Header: React.FC<HeaderProps> = ({ isAuthenticated }) => {\r\n    const navigate = useNavigate();\r\n    const [user, setUser] = useState<any>(null);\r\n    const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\r\n\r\n    useEffect(() => {\r\n        const checkUser = () => {\r\n            const userStr = localStorage.getItem('user');\r\n            const token = localStorage.getItem('token');\r\n            \r\n            if (userStr && token) {\r\n                try {\r\n                    const userData = JSON.parse(userStr);\r\n                    setUser(userData);\r\n                } catch (error) {\r\n                    // JSON parse hatası durumunda user'ı null yap\r\n                    setUser(null);\r\n                    // Hatalı veriyi temizle\r\n                    localStorage.removeItem('user');\r\n                    localStorage.removeItem('token');\r\n                }\r\n            } else {\r\n                setUser(null);\r\n            }\r\n        };\r\n\r\n        checkUser();\r\n        window.addEventListener('storage', checkUser);\r\n        window.addEventListener('userStateChanged', checkUser);\r\n\r\n        return () => {\r\n            window.removeEventListener('storage', checkUser);\r\n            window.removeEventListener('userStateChanged', checkUser);\r\n        };\r\n    }, []);\r\n\r\n    const handleLogout = () => {\r\n        localStorage.removeItem('user');\r\n        localStorage.removeItem('token');\r\n        setUser(null);\r\n        handleClose();\r\n        window.dispatchEvent(new Event('userStateChanged'));\r\n        navigate('/login');\r\n    };\r\n\r\n    const handleMenu = (event: React.MouseEvent<HTMLElement>) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    return (\r\n        <AppBar position=\"static\">\r\n            <Toolbar>\r\n                {/* Logo ve Site Adı */}\r\n                <Typography \r\n                    variant=\"h6\" \r\n                    component={Link} \r\n                    to=\"/\" \r\n                    sx={{ flexGrow: 1, textDecoration: 'none', color: 'white' }}\r\n                >\r\n                    Freelancer Platform\r\n                </Typography>\r\n\r\n                {/* Sağ Menü */}\r\n                <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n                    {isAuthenticated ? (\r\n                        <>\r\n                            <Button \r\n                                component={Link}\r\n                                to=\"/create-project\"\r\n                                startIcon={<AddIcon />}\r\n                                color=\"inherit\"\r\n                            >\r\n                                Proje Oluştur\r\n                            </Button>\r\n\r\n                            {/* Profil Menüsü */}\r\n                            <Box>\r\n                                <Avatar\r\n                                    onClick={handleMenu}\r\n                                    sx={{ cursor: 'pointer' }}\r\n                                >\r\n                                    {user?.first_name?.[0]}\r\n                                </Avatar>\r\n                                <Menu\r\n                                    anchorEl={anchorEl}\r\n                                    open={Boolean(anchorEl)}\r\n                                    onClose={handleClose}\r\n                                >\r\n                                    <MenuItem component={Link} to=\"/profile\" onClick={handleClose}>\r\n                                        Profil\r\n                                    </MenuItem>\r\n                                    <MenuItem component={Link} to=\"/my-projects\" onClick={handleClose}>\r\n                                        Projelerim\r\n                                    </MenuItem>\r\n                                    <MenuItem onClick={handleLogout}>\r\n                                        Çıkış Yap\r\n                                    </MenuItem>\r\n                                </Menu>\r\n                            </Box>\r\n                        </>\r\n                    ) : (\r\n                        <>\r\n                            <Button color=\"inherit\" component={Link} to=\"/login\">\r\n                                Giriş Yap\r\n                            </Button>\r\n                            <Button color=\"inherit\" component={Link} to=\"/register\">\r\n                                Kayıt Ol\r\n                            </Button>\r\n                        </>\r\n                    )}\r\n                </Box>\r\n            </Toolbar>\r\n        </AppBar>\r\n    );\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}